{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst apiKey = \"53646537-90648830b558eb0aebf2e1e33\";\nconst baseUrl = \"https://pixabay.com/api/\";\n\nexport async function getImagesByQuery(query) {\n    const response = await axios.get(baseUrl, {\n        params: {\n            key: apiKey,\n            q: query,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: true,\n        },\n    });\n    return response.data.hits;\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryContainer = document.querySelector(\".gallery\");\nconst lightbox = new SimpleLightbox(\".gallery a\", {\n    captions: true,\n    captionsData: \"alt\",\n    captionPosition: \"bottom\",\n    captionDelay: 250,\n});\n\nexport function createGallery(images) {\n    const markup = images\n        .map(\n            ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads, }) => `\n        <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n        </a>\n        <ul class=\"info\">\n        <li><b>Likes:</b> ${likes}</li>\n        <li><b>Views:</b> ${views}</li>\n        <li><b>Comments:</b> ${comments}</li>\n        <li><b>Downloads:</b> ${downloads}</li>\n        </ul>\n        </li>\n        `\n        )\n        .join(\"\");\n    \n    galleryContainer.insertAdjacentHTML(\"beforeend\", markup);\n    lightbox.refresh();\n}\nexport function clearGallery() {\n    galleryContainer.innerHTML = \"\";\n}\nexport function showLoader() {\n    galleryContainer.classList.add(\"loading\");\n}\nexport function hideLoader() {\n    galleryContainer.classList.remove(\"loading\")\n}","import { getImagesByQuery } from \"./js/pixabay-api\";\nimport { createGallery, clearGallery, showLoader, hideLoader } from \"./js/render-functions\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector(\".form\");\n\nform.addEventListener(\"submit\", async (e) => {\n    e.preventDefault();\n    const query = form[\"search-text\"].value.trim();\n\n    if (!query) {\n        iziToast.warning({\n            message: \"Please enter a search query\",\n            position: \"topRight\",\n        });\n        return;\n    }\n\n    clearGallery();\n    showLoader();\n\n    try {\n        const data = await getImagesByQuery(query);\n\n        if (data.hits.length === 0) {\n            iziToast.error({\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n                position: \"topRight\",\n            });\n            hideLoader();\n            return;\n        }\n\n        createGallery(data.hits);\n    } catch (err) {\n        iziToast.error({ message: \"Error fetching images\", position: \"topRight\" });\n        console.error(err);\n    } finally {\n        hideLoader();\n    }\n    form.reset()\n})"],"names":["apiKey","baseUrl","getImagesByQuery","query","axios","galleryContainer","lightbox","SimpleLightbox","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","e","iziToast","data","err"],"mappings":"owBAEA,MAAMA,EAAS,qCACTC,EAAU,2BAET,eAAeC,EAAiBC,EAAO,CAU1C,OATiB,MAAMC,EAAM,IAAIH,EAAS,CACtC,OAAQ,CACJ,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CACT,CAAK,GACe,KAAK,IACzB,CCbA,MAAME,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAW,IAAIC,EAAe,aAAc,CAC9C,SAAU,GACV,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAASD,EACV,IACG,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAQ;AAAA;AAAA,wCAEnDL,CAAa;AAAA,0CACXD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,4BAGxCC,CAAK;AAAA,4BACLC,CAAK;AAAA,+BACFC,CAAQ;AAAA,gCACPC,CAAS;AAAA;AAAA;AAAA,SAIhC,EACA,KAAK,EAAE,EAEZZ,EAAiB,mBAAmB,YAAaK,CAAM,EACvDJ,EAAS,QAAO,CACpB,CACO,SAASY,GAAe,CAC3Bb,EAAiB,UAAY,EACjC,CACO,SAASc,GAAa,CACzBd,EAAiB,UAAU,IAAI,SAAS,CAC5C,CACO,SAASe,GAAa,CACzBf,EAAiB,UAAU,OAAO,SAAS,CAC/C,CCpCA,MAAMgB,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAU,MAAOC,GAAM,CACzCA,EAAE,eAAc,EAChB,MAAMnB,EAAQkB,EAAK,aAAa,EAAE,MAAM,KAAI,EAE5C,GAAI,CAAClB,EAAO,CACRoB,EAAS,QAAQ,CACb,QAAS,8BACT,SAAU,UACtB,CAAS,EACD,MACH,CAEDL,IACAC,IAEA,GAAI,CACA,MAAMK,EAAO,MAAMtB,EAAiBC,CAAK,EAEzC,GAAIqB,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UAC1B,CAAa,EACDH,IACA,MACH,CAEDZ,EAAcgB,EAAK,IAAI,CAC1B,OAAQC,EAAK,CACVF,EAAS,MAAM,CAAE,QAAS,wBAAyB,SAAU,UAAU,CAAE,EACzE,QAAQ,MAAME,CAAG,CACzB,QAAc,CACNL,GACH,CACDC,EAAK,MAAO,CAChB,CAAC"}